{% load streamfield_tags %}

<html>
  <head>
    <meta charset="UTF-8">
    <style>
      html, body{
        padding: 0;
        margin: 0;
      }

      @page {
        size: {{report.layout.width}}mm {{report.layout.height}}mm;
      }

      #paper{
        border: solid 1px;
        box-shadow: 0px 10px 10px rgba(0,0,0, 0.1);
        width: {{report.layout.width}}mm;
        height: {{report.layout.height}}mm;
        box-sizing: border-box;
        margin: 0 auto;
        padding-top: {{report.layout.margin_top}}mm;
        padding-right: {{report.layout.margin_right}}mm;
        padding-bottom: {{report.layout.margin_bottom}}mm;
        padding-left: {{report.layout.margin_left}}mm;
        position: relative;
        {% if report.layout.font %}
        font-family: "{{report.layout.font}}";
        {% endif %}
      }

      #background {
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        z-index: -10;
      }

      @media print {

        #paper{
          width: 100%;
          height: 100%;
          border: none;
          box-shadow: none;
        }
      }
    </style>
  </head>
  <body>

    <div id="paper">
      {% if report.layout.background %}
        <img src="{% if internal_urls %}file://{{report.layout.background.path}}{% else %}{{report.layout.background.url}}{% endif %}" id="background" />
      {% endif %}

      {% stream_render report.stream permit_request=permit_request data=permit_request_data %}
    </div>
  </body>
</html>
